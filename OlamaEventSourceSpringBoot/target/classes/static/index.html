<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG Chat Assistant</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
    <header>
        <h4>ü§ñ RAG Chat Assistant</h4>
        <div class="controls">
            <div class="sound-toggle">
                <label for="soundToggle" class="sound-toggle-label">
                    <span class="sound-icon">üîä</span>
                    <span class="sound-text">–ó–≤—É–∫</span>
                </label>
                <input type="checkbox" id="soundToggle" checked>
            </div>
            <button id="clearChat">–û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç</button>
            <button id="settingsBtn">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        </div>
    </header>

    <div class="chat-container">
        <div id="connectionStatus" class="status connecting">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SSE...</div>
        <div id="chatMessages" class="chat-messages"></div>
    </div>

    <div class="input-area">
        <div id="attachedFiles" class="attached-files"></div>

        <div class="message-input-container">
            <textarea id="messageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." rows="1"></textarea>
            <div class="input-buttons">
                <div id="dropZone" class="drop-zone">
                    <div class="drop-zone-content">
                        <span class="drop-icon">üìÅ</span>
                        <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞ –∏–ª–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
                        <input type="file" id="fileInput" multiple accept=".txt,.pdf,.doc,.docx,.jpg,.jpeg,.png,.gif,.frm,.dfrm" style="display: none;">
                    </div>
                </div>
                <button id="generateButton" class="generate-btn">
                    <span class="btn-icon">‚ö°</span>
                    Generate
                </button>
                <button id="sendButton" class="send-btn">
                    <span class="btn-icon">üí¨</span>
                    Chat
                </button>
                <button id="cancelButton" class="cancel-btn" style="display: none;">
                    <span class="btn-icon">‚úñ</span>
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>

            <div class="setting-group">
                <label>–ú–æ–¥–µ–ª—å —á–∞—Ç–∞:</label>
                <select id="chatModel"></select>
            </div>

            <div class="setting-group">
                <label>–ú–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤:</label>
                <select id="embeddingModel"></select>
            </div>

            <div class="setting-group">
                <label>–ü—Ä–æ–º—Ç —Å–∏—Å—Ç–µ–º—ã:</label>
                <textarea id="systemPrompt" rows="4" placeholder="–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º—Ç –¥–ª—è —á–∞—Ç–∞..."></textarea>
            </div>

            <div class="setting-group">
                <label>–ü—Ä–æ–º—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:</label>
                <textarea id="generatePrompt" rows="4" placeholder="–ü—Ä–æ–º—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞..."></textarea>
            </div>

            <!-- –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ -->
            <div class="setting-group">
                <label>–î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –≤ RAG:</label>
                <div id="documentDropZone" class="drop-zone document-drop-zone">
                    <div class="drop-zone-content">
                        <span class="drop-icon">üìÑ</span>
                        <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å—é–¥–∞ –∏–ª–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
                        <input type="file" id="documentFileInput" accept=".txt,.md,.json" style="display: none;">
                    </div>
                </div>
                <textarea id="documentContent" rows="6" placeholder="–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª..."></textarea>
                <div class="document-status" id="documentStatus"></div>
                <button id="addDocumentBtn" class="add-document-btn">–î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç</button>
            </div>

            <div class="modal-buttons">
                <button id="saveSettings">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button id="closeSettings">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>
</div>
<script src="app.js"></script>
</body>
</html>